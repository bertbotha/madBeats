(function(){

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// MAINZORS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var $audio = $('#beat');

var $app = angular.module('madBeats', []);

$app.controller('BeatsMachine', function(){

	$audio[0].volume = 0.5;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// WHERE THE MAGIC HAPPENS
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	$(window).keydown(function(){		
		$('body').removeClass('up').addClass('down');
		registerHit();
	}).keyup(function(){		
		$('body').removeClass('down').addClass('up');		
	});

	$(window).on("touchstart", function(){
		$('body').removeClass('up').addClass('down');
		registerHit();
	}).on("touchend", function(){
		$('body').removeClass('down').addClass('up');	
	});

	function registerHit () {

		$audio[0].pause();
		$audio[0].currentTime=0;
		$audio[0].play();

	}



	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

});

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

})();